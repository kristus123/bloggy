The last thing that should be done when defining a task or story is to write code, as it  is a very expensive acticity for various resasons.

code is an asset, and costs money to have and maintain.

Reducing the risk of having to redo somethign should be avoided.

being able to trust that you are not breaking anything will make the team move faster.

when implementing a new feature.
1. verify it's working and write tests in orer to verify it is working tomorrow
2. someone not attached to the written code should look for corner cases and verify. Vorner cases should then be turned into tests as well.
3. embrace the fact that bugs are unavoidable, but work towards detecting as many as possible. Create a system which is easy to debug and fix.